@inherits LayoutComponentBase
@layout ParentLayout
@inject BikeSparesInventorySystem.Data.Services.AuthService AuthService;


<MudAppBar Color="Color.Dark" Elevation="0">
    <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Primary" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />
    <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="2">
        @* <MudIcon Icon="@Icons.Material.Filled.Shop" Color="Color.Primary" Size="Size.Large" /> *@
        <MudText Color="Color.Primary" Typo="Typo.h5" Style="font-weight: bold; font-family:'Bodoni MT'; text-align:center">JAS</MudText>
    </MudStack>
    <MudSpacer />
    <MudStack Row="true" Justify="Justify.Center" AlignItems="AlignItems.Center">
        <MudTooltip Text="@Enum.GetName(AuthService.CurrentUser.Role)">
            <MudChip Icon="@Icons.Material.Filled.AccountCircle" Color="@(AuthService.CurrentUser.Role == UserRole.Admin ? Color.Warning : Color.Default)">                
                <MudText Typo="Typo.body1">@AuthService.CurrentUser.FullName</MudText>                
            </MudChip>
        </MudTooltip>
        <DarkModeButton />
        <LogoutButton />
    </MudStack>  
</MudAppBar>
<MudDrawerContainer>
    <MudDrawer @bind-Open="@_drawerOpen" Height="100vh" >
        <NavMenu />
    </MudDrawer>
    <MudMainContent>
        <CascadingValue Value="SetAppBarTitle">
            @Body
        </CascadingValue>
    </MudMainContent>
</MudDrawerContainer>
