@inject BikeSparesInventorySystem.Data.Repositories.Repository<Purchases> PurchaseRepository
@inject BikeSparesInventorySystem.Data.Repositories.Repository<Spare> ProductRepository
@inject BikeSparesInventorySystem.Data.Repositories.Repository<Sales> SalesRepository

<MudDialog>
    <DialogContent>
        <MudForm @ref="form">
            <MudGrid>
                <MudItem xs="12">
                    <MudTextField @bind-Value="Name" Placeholder="Purchase name" Label="Purchase Name" Required />
                </MudItem>
                <MudItem xs="12">
                    <MudSelect @bind-Value="ProductId" Placeholder="Select Product" Label="Select Product" Required>
                        @foreach(var product in Products)
                        {
                            <MudSelectItem Value="product.Id">@product.Name</MudSelectItem>
                        }
                    </MudSelect>
                </MudItem>
                <MudItem xs="12">
                    <MudTextField @bind-Value="Items" Placeholder="Items" Label="Items" Required />
                </MudItem>
                @* <MudItem xs="12">
                     <MudTextField @bind-Value="Vendor" Placeholder="Vendor" Label="Vendor" />
                </MudItem> *@
                <MudItem xs="6">
                     <MudNumericField @bind-Value="Amount" Placeholder="Amount" Label="Amount" Adornment="Adornment.Start" AdornmentText="Php" Required />
                </MudItem>
                <MudItem xs="6">
                    <MudDatePicker @bind-Date="Acquired" Placeholder="Purchase Date" Label="Purchase Date" PickerVariant="PickerVariant.Dialog" Required Elevation="0" Orientation="Orientation.Landscape"/>
                </MudItem>
            </MudGrid>
        </MudForm>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel" >Cancel</MudButton>
        <MudButton OnClick="AddPurchase" Variant="Variant.Filled" Color="Color.Primary" >
            
             @if (isSaving)
            {
                <p>Saving</p>
                <MudProgressCircular Indeterminate=true />
            }
            else
            {
                <p>Add Purchase</p>
            }

        </MudButton>
    </DialogActions>
</MudDialog>